import{a as rt}from"./chunk-2JFWAOVE.js";import{$a as F,Dg as et,Fa as s,Ga as r,Gg as it,Ha as j,Hg as nt,Ia as w,Ib as A,Jb as Q,Jc as q,Lb as K,Nc as G,Nd as T,Oa as d,Pa as N,Qa as R,Rg as ot,Sc as U,Wg as st,Xa as L,Ya as H,Yc as Z,Yf as C,Yg as ct,Za as O,_a as B,_f as _,ab as c,ag as x,ba as z,bb as a,cb as u,cg as b,ea as E,ed as X,fa as l,ga as S,gb as V,ka as I,kb as h,kc as W,la as M,mb as g,nb as $,ob as P,oe as J,pe as tt,sb as f,ub as y,xa as D,xb as v,zc as Y}from"./chunk-DSN5N3R3.js";var vt=["conTpl"];function Ct(n,e){if(n&1&&(c(0,"button",8),f(1),a()),n&2){let m=g();d("routerLink",m.backRouterLink)("nzType","primary"),s(1),y(" ",m.locale.backToHome," ")}}var _t=["*"],at=(()=>{let e=class e{set type(t){let i=this.typeDict[t];i&&(this.fixImg(i.img),this._type=t,this._title=i.title,this._desc="")}fixImg(t){this._img=this.dom.bypassSecurityTrustStyle(`url('${t}')`)}set img(t){this.fixImg(t)}set title(t){this._title=this.dom.bypassSecurityTrustHtml(t)}set desc(t){this._desc=this.dom.bypassSecurityTrustHtml(t)}checkContent(){this.hasCon=!ot(this.conTpl.nativeElement),this.cdr.detectChanges()}constructor(t,i,o,p,dt){this.i18n=t,this.dom=i,this.directionality=p,this.cdr=dt,this.destroy$=E(w),this.locale={},this.hasCon=!1,this.dir="ltr",this._img="",this._title="",this._desc="",this.backRouterLink="/",o.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(T(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.i18n.change.pipe(T(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getData("exception"),this.cdr.detectChanges()}),this.checkContent()}};e.\u0275fac=function(i){return new(i||e)(r(it),r(Y),r(Z),r(X,8),r(j))},e.\u0275cmp=l({type:e,selectors:[["exception"]],viewQuery:function(i,o){if(i&1&&Q(vt,7),i&2){let p;A(p=K())&&(o.conTpl=p.first)}},hostVars:4,hostBindings:function(i,o){i&2&&R("exception",!0)("exception-rtl",o.dir==="rtl")},inputs:{type:"type",img:"img",title:"title",desc:"desc",backRouterLink:"backRouterLink"},exportAs:["exception"],ngContentSelectors:_t,decls:10,vars:5,consts:[[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["conTpl",""],["nz-button","",3,"routerLink","nzType"]],template:function(i,o){i&1&&($(),c(0,"div",0),u(1,"div",1),a(),c(2,"div",2),u(3,"h1",3)(4,"div",4),c(5,"div",5)(6,"div",6,7),h("cdkObserveContent",function(){return o.checkContent()}),P(8),a(),L(9,Ct,2,3,"button",8),a()()),i&2&&(s(1),N("background-image",o._img),s(2),d("innerHTML",o._title,D),s(1),d("innerHTML",o._desc||o.locale[o._type],D),s(5),H(9,o.hasCon?-1:9))},dependencies:[J,G,x,C,_],encapsulation:2,changeDetection:0});let n=e;return n})();var mt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=S({type:e}),e.\u0275inj=z({imports:[W,tt,U,nt,b]});let n=e;return n})();var k=(()=>{let e=class e{get type(){return this.route.snapshot.data.type}constructor(t){this.route=t}};e.\u0275fac=function(i){return new(i||e)(r(q))},e.\u0275cmp=l({type:e,selectors:[["app-exception"]],standalone:!0,features:[v],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(i,o){i&1&&u(0,"exception",0),i&2&&d("type",o.type)},dependencies:[mt,at],encapsulation:2,changeDetection:0});let n=e;return n})();function bt(n,e){if(n&1){let m=V();c(0,"button",2),h("click",function(){let o=I(m).$implicit,p=g();return M(p.go(o))}),f(1),a()}if(n&2){let m=e.$implicit;s(1),y("\u89E6\u53D1",m,"")}}var lt=(()=>{let e=class e{constructor(t,i){this.http=t,this.tokenService=i,this.types=[401,403,404,500]}go(t){this.http.get(`/api/${t}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:t=>console.warn("\u6210\u529F",t),error:t=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",t)}})}};e.\u0275fac=function(i){return new(i||e)(r(et),r(rt))},e.\u0275cmp=l({type:e,selectors:[["exception-trigger"]],standalone:!0,features:[v],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"],["nz-button","","nzDanger",""]],template:function(i,o){i&1&&(c(0,"div",0)(1,"nz-card"),B(2,bt,2,1,"button",3,O),c(4,"button",1),h("click",function(){return o.refresh()}),f(5,"\u89E6\u53D1\u5237\u65B0Token"),a()()()),i&2&&(s(2),F(o.types))},dependencies:[ct,st,b,x,C,_],encapsulation:2});let n=e;return n})();var Zt=[{path:"403",component:k,data:{type:403}},{path:"404",component:k,data:{type:404}},{path:"500",component:k,data:{type:500}},{path:"trigger",component:lt}];export{Zt as routes};
