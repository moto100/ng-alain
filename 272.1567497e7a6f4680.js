"use strict";(self.webpackChunkng_alain=self.webpackChunkng_alain||[]).push([[272],{1272:(B,u,s)=>{s.r(u),s.d(u,{ExceptionModule:()=>Y});var p=s(6814),t=s(5879),g=s(1993),C=s(3838),h=s(7776),b=s(6593),z=s(8176),E=s(9388),m=s(7131),r=s(2787),a=s(2840),y=s(855),f=s(1958);const k=["conTpl"];function D(n,T){if(1&n&&(t.TgZ(0,"button",9),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("routerLink",e.backRouterLink)("nzType","primary"),t.xp6(1),t.hij(" ",e.locale.backToHome," ")}}const Z=["*"];let x=(()=>{class n{set type(e){const i=this.typeDict[e];i&&(this.fixImg(i.img),this._type=e,this._title=i.title,this._desc="")}fixImg(e){this._img=this.dom.bypassSecurityTrustStyle(`url('${e}')`)}set img(e){this.fixImg(e)}set title(e){this._title=this.dom.bypassSecurityTrustHtml(e)}set desc(e){this._desc=this.dom.bypassSecurityTrustHtml(e)}checkContent(){this.hasCon=!(0,C.xb)(this.conTpl.nativeElement),this.cdr.detectChanges()}constructor(e,i,o,c,d){this.i18n=e,this.dom=i,this.directionality=c,this.cdr=d,this.destroy$=(0,t.f3M)(t.ktI),this.locale={},this.hasCon=!1,this.dir="ltr",this._img="",this._title="",this._desc="",this.backRouterLink="/",o.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,g.sL)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.i18n.change.pipe((0,g.sL)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getData("exception"),this.cdr.detectChanges()}),this.checkContent()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h.s7),t.Y36(b.H7),t.Y36(z.Ri),t.Y36(E.Is,8),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["exception"]],viewQuery:function(i,o){if(1&i&&t.Gf(k,7),2&i){let c;t.iGM(c=t.CRH())&&(o.conTpl=c.first)}},hostVars:4,hostBindings:function(i,o){2&i&&t.ekj("exception",!0)("exception-rtl","rtl"===o.dir)},inputs:{type:"type",img:"img",title:"title",desc:"desc",backRouterLink:"backRouterLink"},exportAs:["exception"],ngContentSelectors:Z,decls:10,vars:5,consts:[[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["conTpl",""],["nz-button","",3,"routerLink","nzType",4,"ngIf"],["nz-button","",3,"routerLink","nzType"]],template:function(i,o){1&i&&(t.F$t(),t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA(),t.TgZ(2,"div",2),t._UZ(3,"h1",3)(4,"div",4),t.TgZ(5,"div",5)(6,"div",6,7),t.NdJ("cdkObserveContent",function(){return o.checkContent()}),t.Hsn(8),t.qZA(),t.YNc(9,D,2,3,"button",8),t.qZA()()),2&i&&(t.xp6(1),t.Udp("background-image",o._img),t.xp6(2),t.Q6J("innerHTML",o._title,t.oJD),t.xp6(1),t.Q6J("innerHTML",o._desc||o.locale[o._type],t.oJD),t.xp6(5),t.Q6J("ngIf",!o.hasCon))},dependencies:[p.O5,m.wD,r.rH,a.ix,y.w,f.dQ],encapsulation:2,changeDetection:0})}return n})(),L=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.ez,m.Q8,r.Bz,h.lD,a.sL]})}return n})();var v=s(2962);let l=(()=>{class n{get type(){return this.route.snapshot.data.type}constructor(e){this.route=e}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(r.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-exception"]],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(i,o){1&i&&t._UZ(0,"exception",0),2&i&&t.Q6J("type",o.type)},dependencies:[x],encapsulation:2,changeDetection:0})}return n})();var M=s(7955);function _(n,T){if(1&n){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.go(c))}),t._uU(1),t.qZA()}if(2&n){const e=T.$implicit;t.xp6(1),t.hij("\u89e6\u53d1",e,"")}}const J=[{path:"403",component:l,data:{type:403}},{path:"404",component:l,data:{type:404}},{path:"500",component:l,data:{type:500}},{path:"trigger",component:(()=>{class n{constructor(e,i){this.http=e,this.tokenService=i,this.types=[401,403,404,500]}go(e){this.http.get(`/api/${e}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:e=>console.warn("\u6210\u529f",e),error:e=>{console.log("\u6700\u540e\u7ed3\u679c\u5931\u8d25",e)}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h.lP),t.Y36(M.T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["exception-trigger"]],decls:5,vars:1,consts:[[1,"pt-lg"],["nz-button","","nzDanger","",3,"click",4,"ngFor","ngForOf"],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"nz-card"),t.YNc(2,_,2,1,"button",1),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.refresh()}),t._uU(4,"\u89e6\u53d1\u5237\u65b0Token"),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.types))},dependencies:[p.sg,a.ix,y.w,f.dQ,v.bd],encapsulation:2})}return n})()}];let H=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(J),r.Bz]})}return n})(),Y=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.ez,L,a.sL,v.vh,H]})}return n})()}}]);