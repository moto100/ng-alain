import{a as pi}from"./chunk-KF2ZMB3U.js";import{c as Ii,d as ji}from"./chunk-VTVRSM4Q.js";import{A as wi,C as Ni,I as Ti,K as Fi,L as Bi,Q as ki,f as di,i as _i,j as Ci,k as yi,l as Si,m as Ei,n as bi,w as Di,x as ve}from"./chunk-ORAFAJZS.js";import{$a as Ce,B as V,C as oe,D as mi,Ga as Ue,Ha as qe,La as G,Na as He,Oa as Mi,P as rt,R as ge,Ra as xi,S as ci,Va as U,Wa as q,Ya as ze,Za as re,_a as _e,hb as Ai,ma as ui,qa as fi,s as O,sa as hi,u as L,va as gi,w as P,x as ie,xa as vi,ya as zi,z as ne}from"./chunk-7SOGTISK.js";import{$a as $t,$c as ot,B as It,Ba as Ae,Db as K,Dg as Ge,Eb as Y,F as xe,Fa as s,Ga as h,Ha as ue,Hc as Kt,Ia as Vt,Ic as Yt,Ja as le,K as tt,Ka as Gt,Kc as ei,Mb as Jt,Mc as Re,Nc as Oe,Nd as Pe,Ng as si,Oa as l,Pa as ke,Q as jt,Qa as Ut,Qg as li,S as Rt,Sc as nt,Tc as ti,Vb as Xt,Wf as oi,Wg as w,X as it,Xa as F,Xc as fe,Ya as X,Yc as te,Yf as S,Za as qt,Zc as Le,_a as Ht,_b as Ie,_c as ii,_f as x,a as A,aa as J,ab as r,ag as D,ba as k,bb as a,bd as he,bg as ri,ca as Ot,cb as E,d as Ki,da as T,ea as ce,f as Bt,fa as v,g as At,ga as I,gb as R,ha as Fe,hc as ee,hg as ai,j as be,ja as Be,k as et,ka as C,kb as f,kc as de,l as Te,la as y,mb as _,nb as Zt,ob as Wt,q as j,qb as De,rb as $,s as Me,sb as m,tb as Qt,ub as B,vc as je,vg as Ve,w as kt,xa as Lt,yb as b,za as Pt,zb as we,ze as ni}from"./chunk-XR424BDU.js";var lt=Ki((at,st)=>{"use strict";(function(o,e){typeof define=="function"&&define.amd?define([],e):typeof at<"u"?e():(e(),o.FileSaver={})})(at,function(){"use strict";function o(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function e(u,d,z){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){p(g.response,d,z)},g.onerror=function(){console.error("could not download file")},g.send()}function c(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var t=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,n=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=t.saveAs||(typeof window!="object"||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(u,d,z){var g=t.URL||t.webkitURL,N=document.createElement("a");d=d||u.name||"download",N.download=d,N.rel="noopener",typeof u=="string"?(N.href=u,N.origin===location.origin?i(N):c(N.href)?e(u,d,z):i(N,N.target="_blank")):(N.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(N.href)},4e4),setTimeout(function(){i(N)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,z){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(o(u,z),d);else if(c(u))e(u,d,z);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){i(g)})}}:function(u,d,z,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return e(u,d,z);var N=u.type==="application/octet-stream",Xe=/constructor/i.test(t.HTMLElement)||t.safari,Tt=/CriOS\/[\d]+/.test(navigator.userAgent);if((Tt||N&&Xe||n)&&typeof FileReader<"u"){var Ke=new FileReader;Ke.onloadend=function(){var Ee=Ke.result;Ee=Tt?Ee:Ee.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=Ee:location=Ee,g=null},Ke.readAsDataURL(u)}else{var Ft=t.URL||t.webkitURL,Ye=Ft.createObjectURL(u);g?g.location=Ye:location.href=Ye,g=null,setTimeout(function(){Ft.revokeObjectURL(Ye)},4e4)}});t.saveAs=p.saveAs=p,typeof st<"u"&&(st.exports=p)})});var Ri=Bt(lt(),1);var Oi=(()=>{let e=class e{getDisposition(i){return(i||"").split(";").filter(n=>n.includes("=")).map(n=>{let p=n.split("="),u="UTF-8''",d=p[1];return d.startsWith(u)&&(d=d.substring(u.length)),{[p[0].trim()]:d}}).reduce((n,p)=>p,{})}constructor(i,t){this.el=i,this._http=t,this.isFileSaverSupported=!0,this.httpMethod="get",this.success=new le,this.error=new le;let n=!1;try{n=!!new Blob}catch{}this.isFileSaverSupported=n,n||i.nativeElement.classList.add("down-file__not-support")}setDisabled(i){let t=this.el.nativeElement;t.disabled=i,t.classList[i?"add":"remove"]("down-file__disabled")}_click(i){return At(this,null,function*(){if(!this.isFileSaverSupported||typeof this.pre=="function"&&!(yield this.pre(i))){i.stopPropagation(),i.preventDefault();return}this.setDisabled(!0),this._http.request(this.httpMethod,this.httpUrl,{params:this.httpData||{},responseType:"blob",observe:"response",body:this.httpBody}).pipe(jt(()=>this.setDisabled(!1))).subscribe({next:t=>{if(t.status!==200||t.body.size<=0){this.error.emit(t);return}let n=this.getDisposition(t.headers.get("content-disposition")),p=this.fileName;typeof p=="function"&&(p=p(t)),p=p||n["filename*"]||n.filename||t.headers.get("filename")||t.headers.get("x-filename"),(0,Ri.saveAs)(t.body,decodeURI(p)),this.success.emit(t)},error:t=>this.error.emit(t)})})}};e.\u0275fac=function(t){return new(t||e)(h(Ae),h(Ge))},e.\u0275dir=Fe({type:e,selectors:[["","down-file",""]],hostBindings:function(t,n){t&1&&f("click",function(u){return n._click(u)})},inputs:{httpData:["http-data","httpData"],httpBody:["http-body","httpBody"],httpMethod:["http-method","httpMethod"],httpUrl:["http-url","httpUrl"],fileName:["file-name","fileName"],pre:"pre"},outputs:{success:"success",error:"error"},exportAs:["downFile"]});let o=e;return o})();var Li=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I({type:e}),e.\u0275inj=k({imports:[de,si]});let o=e;return o})();var en=["*"],tn=(()=>{let e=class e{constructor(){this._change=new Te(null)}toggle(){this._change.next(!0)}get change(){return this._change.pipe(Rt())}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})(),mt="full-content__body",ct="full-content__opened",ut="full-content__hidden-title",ye=class ye{constructor(e,c,i,t,n){this.el=e,this.cdr=c,this.srv=i,this.router=t,this.doc=n,this.inited=!1,this.id=`_full-content-${Math.random().toString(36).substring(2)}`,this.destroy$=ce(Vt),this._height=0,this.hideTitle=!0,this.padding=24,this.fullscreenChange=new le}updateCls(){let e=this.bodyEl.classList;this.fullscreen?(e.add(ct),this.hideTitle&&e.add(ut)):(e.remove(ct),this.hideTitle&&e.remove(ut))}update(){this.updateCls(),this.updateHeight(),this.fullscreenChange.emit(this.fullscreen)}updateHeight(){this._height=this.bodyEl.getBoundingClientRect().height-this.el.nativeElement.getBoundingClientRect().top-this.padding,this.cdr.detectChanges()}removeInBody(){this.bodyEl.classList.remove(mt,ct,ut)}ngOnInit(){this.inited=!0,this.bodyEl=this.doc.querySelector("body"),this.bodyEl.classList.add(mt),this.el.nativeElement.id=this.id,this.updateCls(),It(window,"resize").pipe(Pe(this.destroy$),tt(200)).subscribe(()=>this.updateHeight()),this.srv.change.pipe(Pe(this.destroy$),xe(e=>e!==null)).subscribe(()=>this.toggle()),this.router.events.pipe(Pe(this.destroy$),xe(e=>e instanceof Kt||e instanceof Yt),tt(200)).subscribe(()=>{this.doc.querySelector(`#${this.id}`)?(this.bodyEl.classList.add(mt),this.updateCls()):this.removeInBody()})}toggle(){this.fullscreen=!this.fullscreen,this.update(),this.updateHeight()}ngAfterViewInit(){setTimeout(()=>this.updateHeight())}ngOnChanges(){this.inited&&this.update()}ngOnDestroy(){this.removeInBody()}};ye.\u0275fac=function(c){return new(c||ye)(h(Ae),h(ue),h(tn),h(Re),h(Xt))},ye.\u0275cmp=v({type:ye,selectors:[["full-content"]],hostVars:4,hostBindings:function(c,i){c&2&&(ke("height",i._height,"px"),Ut("full-content",!0))},inputs:{fullscreen:"fullscreen",hideTitle:"hideTitle",padding:"padding"},outputs:{fullscreenChange:"fullscreenChange"},exportAs:["fullContent"],features:[Be],ngContentSelectors:en,decls:1,vars:0,template:function(c,i){c&1&&(Zt(),Wt(0))},encapsulation:2,changeDetection:0});var ae=ye;j([rt()],ae.prototype,"fullscreen",void 0);j([rt()],ae.prototype,"hideTitle",void 0);j([ge()],ae.prototype,"padding",void 0);var Vi=(()=>{let e=class e{constructor(i){this.parent=i}_click(){this.parent.toggle()}};e.\u0275fac=function(t){return new(t||e)(h(ae))},e.\u0275dir=Fe({type:e,selectors:[["","full-toggle",""]],hostBindings:function(t,n){t&1&&f("click",function(){return n._click()})},exportAs:["fullToggle"]});let o=e;return o})();var Gi=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I({type:e}),e.\u0275inj=k({imports:[de]});let o=e;return o})();function rn(o,e){if(o&1&&E(0,"img",1),o&2){let c=_();l("src",c.dataURL,Pt)}}var an={lib:"https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js",background:"white",backgroundAlpha:1,foreground:"black",foregroundAlpha:1,level:"L",mime:"image/png",padding:10,size:220,delay:0},Se=class Se{constructor(e,c,i,t){this.cdr=e,this.lazySrv=i,this.platform=t,this.inited=!1,this.value="",this.change=new le,this.cog=c.merge("qr",an),Object.assign(this,this.cog)}init(){this.inited&&(this.qr==null&&(this.qr=new window.QRious),this.qr.set(this.option),this.dataURL=this.qr.toDataURL(),this.change.emit(this.dataURL),this.cdr.detectChanges())}initDelay(){this.inited=!0,setTimeout(()=>this.init(),this.delay)}ngAfterViewInit(){if(!this.platform.isBrowser)return;if(window.QRious){this.initDelay();return}let e=this.cog.lib;this.lazy$=this.lazySrv.change.pipe(xe(c=>c.length===1&&c[0].path===e&&c[0].status==="ok")).subscribe(()=>this.initDelay()),this.lazySrv.load(e)}ngOnChanges(){let e={background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,mime:this.mime,padding:this.padding,size:this.size,value:typeof this.value=="function"?this.value():this.toUtf8ByteArray(this.value)};this.option=e,this.init()}toUtf8ByteArray(e){e=encodeURI(e);let c=[];for(let i=0;i<e.length;i++)e.charAt(i)!=="%"?c.push(e.charCodeAt(i)):(c.push(parseInt(e.substring(i+1,2),16)),i+=2);return c.map(i=>String.fromCharCode(i)).join("")}ngOnDestroy(){this.lazy$&&this.lazy$.unsubscribe()}};Se.\u0275fac=function(c){return new(c||Se)(h(ue),h(te),h(fe),h(he))},Se.\u0275cmp=v({type:Se,selectors:[["qr"]],hostVars:6,hostBindings:function(c,i){c&2&&ke("display","inline-block")("height",i.size,"px")("width",i.size,"px")},inputs:{background:"background",backgroundAlpha:"backgroundAlpha",foreground:"foreground",foregroundAlpha:"foregroundAlpha",level:"level",mime:"mime",padding:"padding",size:"size",value:"value",delay:"delay"},outputs:{change:"change"},exportAs:["qr"],features:[Be],decls:1,vars:1,consts:[["style","max-width: 100%; max-height: 100%;",3,"src"],[2,"max-width","100%","max-height","100%",3,"src"]],template:function(c,i){c&1&&F(0,rn,1,1,"img",0),c&2&&X(0,i.dataURL?0:-1)},encapsulation:2,changeDetection:0});var pe=Se;j([ge(null)],pe.prototype,"padding",void 0);j([ge()],pe.prototype,"size",void 0);j([ge()],pe.prototype,"delay",void 0);var qi=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I({type:e}),e.\u0275inj=k({imports:[de]});let o=e;return o})();var ft=(()=>{let e=class e{get data(){return this.aclSrv.data}constructor(i,t){this.aclSrv=i,this.menuSrv=t,this.full=!0,this.roleA="",this.roleB=""}reMenu(){this.menuSrv.resume()}toggleFull(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}toggleRoleA(){this.full=!1,this.roleA=this.roleA==="role-a"?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}toggleRoleB(){this.full=!1,this.roleB=this.roleB==="role-b"?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}};e.\u0275fac=function(t){return new(t||e)(h(Le),h(Ve))},e.\u0275cmp=v({type:e,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94AE\u7C92\u5EA6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91CF"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89D2\u8272[role-a]"],["nzTitle","\u89D2\u8272[role-b]"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," ACL \u8BBF\u95EE\u63A7\u5236 "),r(3,"small"),m(4,"\u6CE8\u610F\u89C2\u5BDF\u5DE6\u8FB9\u7684\u83DC\u5355\uFF1BACLService\u63D0\u4F9B\u4E00\u4E2A\u5B8C\u6574\u7684\u57FA\u4E8E\u89D2\u8272\u7684\u8BBF\u95EE\u63A7\u5236\u7684\u670D\u52A1\uFF0C\u82E5\u9700\u8981\u652F\u6301\u8DEF\u7531\u5B88\u536B\uFF0C\u8BF7\u914D\u5408ACLService\u4E0ERoute Guard\u914D\u5408\u7B80\u4FBF\u5B9E\u73B0\u3002"),a()()(),r(5,"div",1)(6,"div",2)(7,"nz-card",3),m(8),K(9,"json"),r(10,"button",4),m(11,"role-a"),a(),r(12,"button",5),m(13,"role-b"),a()()()(),r(14,"div",1)(15,"div",2)(16,"nz-card",6)(17,"button",7),f("click",function(){return n.toggleFull()}),r(18,"span"),m(19),a()(),r(20,"p",8),m(21,"\u5168\u91CF\u7C7B\u6307\u7CFB\u7EDF\u7BA1\u7406\u5458\u89D2\u8272\uFF0C\u65E0\u4EFB\u4F55\u53D7\u9650\u3002"),a()()(),r(22,"div",2)(23,"nz-card",9)(24,"button",7),f("click",function(){return n.toggleRoleA()}),r(25,"span"),m(26),a()()()(),r(27,"div",2)(28,"nz-card",10)(29,"button",7),f("click",function(){return n.toggleRoleB()}),r(30,"span"),m(31),a()()()()()),t&2&&(s(5),l("nzGutter",8),s(1),l("nzSpan",24),s(2),B(" ACL\u539F\u59CB\u6570\u636E\uFF1A",Y(9,12,n.data)," "),s(2),l("acl","role-a"),s(2),l("acl","role-b"),s(2),l("nzGutter",8),s(1),l("nzSpan",8),s(4),B("",n.full?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),s(3),l("nzSpan",8),s(4),B("",n.roleA.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),s(1),l("nzSpan",8),s(4),B("",n.roleB.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"))},dependencies:[ii,D,S,x,q,U,w,ee],encapsulation:2});let o=e;return o})();var mn=new Ot("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:()=>new ht(ce(he))}),ht=class{constructor(e){this.platform=e}get(e){return this.platform.isBrowser&&JSON.parse(localStorage.getItem(e)||"null")||null}set(e,c){return this.platform.isBrowser&&localStorage.setItem(e,JSON.stringify(c)),!0}remove(e){this.platform.isBrowser&&localStorage.removeItem(e)}},Hi=(()=>{let e=class e{constructor(i,t,n,p){this.store=t,this.http=n,this.platform=p,this.memory=new Map,this.notifyBuffer=new Map,this.meta=new Set,this.freqTick=3e3,this.cog=i.merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"}),p.isBrowser&&(this.loadMeta(),this.startExpireNotify())}pushMeta(i){this.meta.has(i)||(this.meta.add(i),this.saveMeta())}removeMeta(i){this.meta.has(i)&&(this.meta.delete(i),this.saveMeta())}loadMeta(){let i=this.store.get(this.cog.meta_key);i&&i.v&&i.v.forEach(t=>this.meta.add(t))}saveMeta(){let i=[];this.meta.forEach(t=>i.push(t)),this.store.set(this.cog.meta_key,{v:i,e:0})}getMeta(){return this.meta}set(i,t,n={}){if(!this.platform.isBrowser)return;let p=0,{type:u,expire:d}=this.cog;n=A({type:u,expire:d},n),n.expire&&(p=ni(new Date,n.expire).valueOf());let z=n.emitNotify!==!1;if(!(t instanceof be)){this.save(n.type,i,{v:t,e:p},z);return}return t.pipe(it(g=>{this.save(n.type,i,{v:g,e:p},z)}))}save(i,t,n,p=!0){i==="m"?this.memory.set(t,n):(this.store.set(this.cog.prefix+t,n),this.pushMeta(t)),p&&this.runNotify(t,"set")}get(i,t={}){if(!this.platform.isBrowser)return null;let n=t.mode!=="none"&&this.cog.mode==="promise",p=this.memory.has(i)?this.memory.get(i):this.store.get(this.cog.prefix+i);return!p||p.e&&p.e>0&&p.e<new Date().valueOf()?n?(this.cog.request?this.cog.request(i):this.http.get(i)).pipe(kt(u=>ti(u,this.cog.reName,u)),it(u=>this.set(i,u,{type:t.type,expire:t.expire,emitNotify:t.emitNotify}))):null:n?Me(p.v):p.v}getNone(i){return this.get(i,{mode:"none"})}tryGet(i,t,n={}){if(!this.platform.isBrowser)return null;let p=this.getNone(i);return p===null?t instanceof be?this.set(i,t,n):(this.set(i,t,n),t):Me(p)}has(i){return this.memory.has(i)||this.meta.has(i)}_remove(i,t){if(t&&this.runNotify(i,"remove"),this.memory.has(i)){this.memory.delete(i);return}this.store.remove(this.cog.prefix+i),this.removeMeta(i)}remove(i){this.platform.isBrowser&&this._remove(i,!0)}clear(){this.platform.isBrowser&&(this.notifyBuffer.forEach((i,t)=>this.runNotify(t,"remove")),this.memory.clear(),this.meta.forEach(i=>this.store.remove(this.cog.prefix+i)))}set freq(i){this.freqTick=Math.max(20,i),this.abortExpireNotify(),this.startExpireNotify()}startExpireNotify(){this.checkExpireNotify(),this.runExpireNotify()}runExpireNotify(){this.freqTime=setTimeout(()=>{this.checkExpireNotify(),this.runExpireNotify()},this.freqTick)}checkExpireNotify(){let i=[];this.notifyBuffer.forEach((t,n)=>{this.has(n)&&this.getNone(n)===null&&i.push(n)}),i.forEach(t=>{this.runNotify(t,"expire"),this._remove(t,!1)})}abortExpireNotify(){clearTimeout(this.freqTime)}runNotify(i,t){this.notifyBuffer.has(i)&&this.notifyBuffer.get(i).next({type:t,value:this.getNone(i)})}notify(i){if(!this.notifyBuffer.has(i)){let t=new Te(this.getNone(i));this.notifyBuffer.set(i,t)}return this.notifyBuffer.get(i).asObservable()}cancelNotify(i){this.notifyBuffer.has(i)&&(this.notifyBuffer.get(i).unsubscribe(),this.notifyBuffer.delete(i))}hasNotify(i){return this.notifyBuffer.has(i)}clearNotify(){this.notifyBuffer.forEach(i=>i.unsubscribe()),this.notifyBuffer.clear()}ngOnDestroy(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}};e.\u0275fac=function(t){return new(t||e)(T(te),T(mn),T(je),T(he))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var gt=(()=>{let e=class e{constructor(i,t){this.cache=i,this.msg=t,this.KEY="user"}set(){this.cache.set(this.KEY,+new Date)}get(){this.msg.success(this.cache.getNone(this.KEY))}};e.\u0275fac=function(t){return new(t||e)(h(Hi),h(O))},e.\u0275cmp=v({type:e,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," Cache \u7F13\u5B58, "),r(3,"a",1),m(4,"Document"),a()()(),r(5,"nz-card",2)(6,"button",3),f("click",function(){return n.set()}),m(7,"\u8BBE\u7F6E"),a(),r(8,"button",4),f("click",function(){return n.get()}),m(9,"\u83B7\u53D6"),a()())},dependencies:[D,S,x,w],encapsulation:2});let o=e;return o})();function un(o,e){if(o&1&&(r(0,"button",2),m(1),a()),o&2){let c=e.$implicit,i=_();De("http-url","assets/tmp/demo",c,""),l("http-data",i.data),s(1),B(" ",c," ")}}var vt=(()=>{let e=class e{constructor(){this.fileTypes=[".xlsx",".docx",".pptx",".pdf"],this.data={otherdata:1,time:new Date}}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-down-file"]],decls:6,vars:0,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","down-file","","file-name","demo\u4E2D\u6587",1,"mr-sm",3,"http-data","http-url"],["nz-button","","class","mr-sm","down-file","","file-name","demo\u4E2D\u6587",3,"http-data","http-url"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2,"Download a file"),a()(),r(3,"nz-card",1),Ht(4,un,2,3,"button",3,qt),a()),t&2&&(s(4),$t(n.fileTypes))},dependencies:[D,S,x,w,Oi],encapsulation:2});let o=e;return o})();var dn=o=>({params:o}),zt=(()=>{let e=class e{constructor(){this.params={},this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7F16\u53F7"}}},this.columns=[{title:"\u7F16\u53F7",index:"no"},{title:"\u8C03\u7528\u6B21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50CF",type:"img",width:"50px",index:"avatar"},{title:"\u65F6\u95F4",type:"date",index:"updatedAt"}]}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-delon-form"]],decls:5,vars:8,consts:[[3,"title"],["mode","search",3,"schema","formData","formSubmit","formReset"],[3,"data","columns","req"],["st",""]],template:function(t,n){if(t&1){let p=R();E(0,"page-header",0),r(1,"nz-card")(2,"sf",1),f("formSubmit",function(d){C(p);let z=$(4);return y(z.reset(d))})("formReset",function(){C(p);let d=$(4);return y(d.reset(n.params))}),a(),E(3,"st",2,3),a()}t&2&&(l("title","Page Name"),s(2),l("schema",n.searchSchema)("formData",n.params),s(1),l("data",n.url)("columns",n.columns)("req",we(6,dn,n.params)))},dependencies:[wi,ve,Ti,w],encapsulation:2});let o=e;return o})();var _t=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(t,n){t&1&&(r(0,"p"),m(1,"\u8FD9\u662F\u4E00\u4E2Aadmin\u9875\u9762"),a())},encapsulation:2});let o=e;return o})();var Ct=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(t,n){t&1&&(r(0,"p"),m(1,"\u8FD9\u662F\u4E00\u4E2Auser1\u9875\u9762"),a())},encapsulation:2});let o=e;return o})();var Zi=()=>{let o=ce(ai);return new be(e=>{o.confirm({nzTitle:"\u786E\u8BA4\u8981\u79BB\u5F00\u5417\uFF1F",nzContent:"\u4F60\u5DF2\u7ECF\u586B\u5199\u4E86\u90E8\u5206\u8868\u5355\u79BB\u5F00\u4F1A\u653E\u5F03\u5DF2\u7ECF\u586B\u5199\u7684\u5185\u5BB9\u3002",nzOkText:"\u79BB\u5F00",nzCancelText:"\u53D6\u6D88",nzOnOk:()=>{e.next(!0),e.complete()},nzOnCancel:()=>{e.next(!1),e.complete()}})})};var fn=()=>["/delon/guard/leave"],hn=()=>["/delon/guard/auth"],gn=()=>["/delon/guard/admin"],yt=(()=>{let e=class e{get data(){return this.aclSrv.data}constructor(i,t,n){this.aclSrv=i,this.menuSrv=t,this.router=n}setRole(i){this.aclSrv.setFull(!1),typeof i=="boolean"?this.aclSrv.setFull(i):this.aclSrv.set({role:[i]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}};e.\u0275fac=function(t){return new(t||e)(h(Le),h(Ve),h(Re))},e.\u0275cmp=v({type:e,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," \u8DEF\u7531\u5B88\u536B "),a()(),r(3,"nz-button-group")(4,"button",1)(5,"span"),m(6,"\u79BB\u5F00\u786E\u8BA4\u9875"),a()()(),r(7,"nz-button-group",2)(8,"button",3),f("click",function(){return n.setRole(!0)}),r(9,"span"),m(10,"\u8BBE\u7F6E\u7BA1\u7406\u5458"),a()(),r(11,"button",3),f("click",function(){return n.setRole("user1")}),r(12,"span"),m(13,"\u8BBE\u7F6E\u5458\u5DE51"),a()(),r(14,"button",3),f("click",function(){return n.setRole("user2")}),r(15,"span"),m(16,"\u8BBE\u7F6E\u5458\u5DE52"),a()()(),r(17,"nz-button-group",2)(18,"button",1)(19,"span"),m(20,"\u9700\u8981user1"),a()(),r(21,"button",1)(22,"span"),m(23,"\u9700\u8981\u7BA1\u7406\u5458"),a()()(),r(24,"p",4),m(25),K(26,"json"),a(),E(27,"router-outlet")),t&2&&(s(4),l("routerLink",b(6,fn)),s(14),l("routerLink",b(7,hn)),s(3),l("routerLink",b(8,gn)),s(4),B("\u5F53\u524DACL\u4FE1\u606F\uFF1A",Y(26,4,n.data),""))},dependencies:[ei,Oe,D,ri,S,x,ee],encapsulation:2});let o=e;return o})();var vn=()=>["/delon/guard"],St=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(t,n){t&1&&(r(0,"p"),m(1,"\u79BB\u5F00\u65F6\u9700\u8981\u786E\u8BA4"),a(),r(2,"button",0)(3,"span"),m(4,"\u6211\u8981\u79BB\u5F00"),a()()),t&2&&(s(2),l("nzType","primary")("routerLink",b(2,vn)))},dependencies:[Oe,D,S,x],encapsulation:2});let o=e;return o})();var Wi=(()=>{let e=class e{constructor(i,t){this.scriptSrv=i,this.pending=!1,this._lodop=null,this._init=new et,this._events=new et,this.printBuffer=[],this.defaultConfig=t.merge("lodop",{url:"//localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}get cog(){return this._cog}set cog(i){this._cog=A(A({},this.defaultConfig),i)}get events(){return this._events.asObservable()}get lodop(){return this._lodop?Me({ok:!0,lodop:this._lodop}):this.pending?this._init.asObservable():(this.request(),this._init.asObservable())}get printer(){this.check();let i=[],t=this._lodop.GET_PRINTER_COUNT();for(let n=0;n<t;n++)i.push(this._lodop.GET_PRINTER_NAME(n));return i}check(){if(!this._lodop)throw new Error("\u8BF7\u52A1\u5FC5\u5148\u8C03\u7528 lodop \u83B7\u53D6\u5BF9\u8C61")}request(){this.pending=!0;let i=`${this.cog.url}?name=${this.cog.name}`,t=this.cog.checkMaxCount,n=(u,d)=>{this._init.next({ok:u==="ok",status:u,error:d,lodop:this._lodop})},p=()=>{if(--t,this._lodop.webskt&&this._lodop.webskt.readyState===1)n("ok");else{if(t<0){n("check-limit");return}setTimeout(()=>p(),100)}};this.scriptSrv.loadScript(i).then(u=>{if(u.status!=="ok"){this.pending=!1,n("script-load-error",u[0]);return}let d=window;if(d.hasOwnProperty(this.cog.name)&&(this._lodop=d[this.cog.name]),this._lodop===null){n("load-variable-name-error",{name:this.cog.name});return}this._lodop.SET_LICENSES(this.cog.companyName,this.cog.license,this.cog.licenseA,this.cog.licenseB),p()})}reset(){this._lodop=null,this.pending=!1,this.request()}attachCode(i,t,n){this.check(),n||(n=/LODOP\.([^(]+)\(([^\n]+)?\);/i),i.split(`
`).forEach(p=>{let u=n.exec(p.trim());if(!u)return;let d=this._lodop[u[1]];if(d){let z=null;try{z=new Function(`return [${u[2]}]`)()}catch{}if(z!=null&&Array.isArray(z)&&t)for(let g=0;g<z.length;g++)typeof z[g]=="string"&&(z[g]=z[g].replace(/{{(.*?)}}/g,(N,Xe)=>t[Xe.trim()]||""));d.apply(this._lodop,z)}})}design(){this.check();let i=this._lodop.PRINT_DESIGN();return new Promise(t=>{this._lodop.On_Return=(n,p)=>{i===n&&(this._lodop.On_Return=null,t(`${p}`))}})}printDo(){let i=this.printBuffer.shift();if(!i)return;this.attachCode(i.code,i.item,i.parser);let t=this._lodop.PRINT();this._lodop.On_Return=(n,p)=>{t===n&&(this._lodop.On_Return=null,this._events.next(A({ok:p===!0,error:p===!0?null:p},i)),this.printDo())}}print(i,t,n){this.check(),t&&this.printBuffer.push(...(Array.isArray(t)?t:[t]).map(p=>({code:i,parser:n,item:p}))),this.printDo()}ngOnDestroy(){this._init.unsubscribe(),this._events.unsubscribe()}};e.\u0275fac=function(t){return new(t||e)(T(fe),T(te))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();function Cn(o,e){o&1&&(m(0," \u8BF7\u5148\u4E0B\u8F7D "),r(1,"a",5),m(2,"Lodop\u63D2\u4EF6"),a(),m(3,"\u3002 "))}function yn(o,e){if(o&1&&(r(0,"nz-alert",2),F(1,Cn,4,0,"ng-template",null,4,Jt),a()),o&2){let c=$(2);l("nzType","warning")("nzMessage",c)}}function Sn(o,e){if(o&1&&E(0,"nz-option",18),o&2){let c=e.$implicit;l("nzLabel",c)("nzValue",c)}}function En(o,e){if(o&1&&E(0,"nz-option",18),o&2){let c=e.$implicit;l("nzLabel",c)("nzValue",c)}}function bn(o,e){if(o&1){let c=R();r(0,"form",3)(1,"nz-form-item",6)(2,"nz-form-label",7),m(3,"\u6253\u5370\u670D\u52A1\u5668"),a(),r(4,"nz-form-control",7)(5,"nz-input-group")(6,"div",8)(7,"input",9),f("ngModelChange",function(t){C(c);let n=_();return y(n.cog.url=t)}),a()(),r(8,"div",8)(9,"button",10),f("click",function(){C(c);let t=_();return y(t.reload(null))}),m(10,"\u91CD\u65B0\u52A0\u8F7D\u6253\u5370\u673A"),a()()()()(),r(11,"nz-form-item",6)(12,"nz-form-label",7),m(13,"\u6253\u5370\u673A"),a(),r(14,"nz-form-control",7)(15,"nz-select",11),f("ngModelChange",function(t){C(c);let n=_();return y(n.cog.printer=t)})("ngModelChange",function(t){C(c);let n=_();return y(n.changePinter(t))}),F(16,Sn,1,2,"nz-option",12),a()()(),r(17,"nz-form-item",6)(18,"nz-form-label",7),m(19,"\u7EB8\u5F20\u7C7B\u578B"),a(),r(20,"nz-form-control",7)(21,"nz-select",13),f("ngModelChange",function(t){C(c);let n=_();return y(n.cog.paper=t)}),F(22,En,1,2,"nz-option",12),a()()(),r(23,"nz-form-item",6)(24,"nz-form-label",7),m(25,"\u6253\u5370\u5185\u5BB9"),a(),r(26,"nz-form-control",7)(27,"textarea",14),f("ngModelChange",function(t){C(c);let n=_();return y(n.cog.html=t)}),a(),r(28,"div",15),m(29,"\u4EC5\u9650HTML\uFF0C\u66F4\u591A\u7C7B\u578B\u652F\u6301\u8BF7\u53C2\u8003\u5B98\u7F51"),a()()(),r(30,"nz-form-item",6)(31,"nz-form-control",16)(32,"button",17),f("click",function(){C(c);let t=_();return y(t.print(!0))}),m(33,"\u6253\u5370\u9884\u89C8"),a(),r(34,"button",17),f("click",function(){C(c);let t=_();return y(t.print())}),m(35,"\u76F4\u63A5\u6253\u5370"),a()()()()}if(o&2){let c=_();s(2),l("nzSm",6),s(2),l("nzSm",18),s(2),l("nzSpan",16),s(1),l("ngModel",c.cog.url),s(1),l("nzSpan",8),s(4),l("nzSm",6),s(2),l("nzSm",18),s(1),l("ngModel",c.cog.printer),s(1),l("ngForOf",c.pinters),s(2),l("nzSm",6),s(2),l("nzSm",18),s(1),l("ngModel",c.cog.paper),s(1),l("ngForOf",c.papers),s(2),l("nzSm",6),s(2),l("nzSm",18),s(1),l("ngModel",c.cog.html),s(4),l("nzSm",18)("nzOffset",6),s(1),l("nzLoading",c.printing),s(2),l("nzLoading",c.printing)}}var bt=(()=>{let e=class e{constructor(i,t,n){this.lodopSrv=i,this.msg=t,this.notify=n,this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:`
      <h1>Title</h1>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
    `},this.error=!1,this.lodop=null,this.pinters=[],this.papers=[],this.printing=!1,this.lodopSrv.lodop.subscribe(({lodop:p,ok:u})=>{if(!u){this.error=!0;return}this.error=!1,this.msg.success("\u6253\u5370\u673A\u52A0\u8F7D\u6210\u529F"),this.lodop=p,this.pinters=this.lodopSrv.printer})}reload(i={url:"https://localhost:8443/CLodopfuncs.js"}){this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=A(A({},this.cog),i),this.error=!1,i===null&&this.lodopSrv.reset()}changePinter(i){this.lodop!=null&&(this.papers=this.lodop.GET_PAGESIZES_LIST(i,`
`).split(`
`))}print(i=!1){let t=this.lodop;t.PRINT_INITA(10,20,810,610,"\u6D4B\u8BD5C-Lodop\u8FDC\u7A0B\u6253\u5370\u56DB\u6B65\u9AA4"),t.SET_PRINTER_INDEXA(this.cog.printer),t.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),t.ADD_PRINT_TEXT(1,1,300,200,"\u4E0B\u9762\u8F93\u51FA\u7684\u662F\u672C\u9875\u6E90\u4EE3\u7801\u53CA\u5176\u5C55\u73B0\u6548\u679C\uFF1A"),t.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),t.SET_PRINT_STYLEA(0,"ItemType",4),t.NEWPAGEA(),t.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),i?t.PREVIEW():t.PRINT()}};e.\u0275fac=function(t){return new(t||e)(h(Wi),h(O),h(pi))},e.\u0275cmp=v({type:e,selectors:[["app-print"]],decls:10,vars:2,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage"],["nz-form",""],["message",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModel","ngModelChange"],["nz-button","",3,"click"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u6253\u5370\u673A","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u7EB8\u5F20\u7C7B\u578B","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModel","ngModelChange"],["nz-input","","name","html","nzAutosize","",3,"ngModel","ngModelChange"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"nzLoading","click"],[3,"nzLabel","nzValue"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," Lodop\u6253\u5370 "),r(3,"small"),m(4,"\u66F4\u591A\u4F53\u9A8C\u8BF7\u81F3 "),r(5,"a",1),m(6,"ng-alain.com"),a()()()(),r(7,"nz-card"),F(8,yn,3,2,"nz-alert",2)(9,bn,36,20,"form",3),a()),t&2&&(s(8),X(8,n.error?8:-1),s(1),X(9,n.error?-1:9))},dependencies:[Ie,oe,L,P,ie,V,ne,D,S,x,q,U,Ue,qe,Ai,G,He,Mi,re,ze,Ce,_e,w],encapsulation:2});let o=e;return o})();var se=()=>({standalone:!0}),Mt=(()=>{let e=class e{constructor(){this.value="https://ng-alain.com/",this.background="#ffffff",this.backgroundAlpha=1,this.foreground="#000000",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=10,this.size=220}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-qr"]],decls:54,vars:59,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/qr","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[2,"border","1px solid #999",3,"value","background","backgroundAlpha","foreground","foregroundAlpha","level","mime","padding","size"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],["nzValue","image/png","nzLabel","image/png"],["nzValue","image/jpeg","nzLabel","image/jpeg"],["nzValue","image/gif","nzLabel","image/gif"],[3,"ngModel","ngModelOptions","nzMin","nzMax","ngModelChange"],[3,"ngModel","ngModelOptions","nzMin","nzMax","nzStep","ngModelChange"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," \u4E8C\u7EF4\u7801 "),r(3,"a",1),m(4,"Document"),a()()(),r(5,"nz-card")(6,"nz-row",2)(7,"nz-col",3),E(8,"qr",4),a(),r(9,"nz-col",5)(10,"form",6)(11,"nz-form-item")(12,"nz-form-label",5),m(13,"\u80CC\u666F"),a(),r(14,"nz-form-control",5)(15,"nz-input-group")(16,"input",7),f("ngModelChange",function(u){return n.background=u}),a(),r(17,"nz-input-number",8),f("ngModelChange",function(u){return n.backgroundAlpha=u}),a()()()(),r(18,"nz-form-item")(19,"nz-form-label",5),m(20,"\u524D\u666F"),a(),r(21,"nz-form-control",5)(22,"nz-input-group")(23,"input",7),f("ngModelChange",function(u){return n.foreground=u}),a(),r(24,"nz-input-number",8),f("ngModelChange",function(u){return n.foregroundAlpha=u}),a()()()(),r(25,"nz-form-item")(26,"nz-form-label",5),m(27,"\u8BEF\u5DEE"),a(),r(28,"nz-form-control",5)(29,"nz-select",9),f("ngModelChange",function(u){return n.level=u}),E(30,"nz-option",10)(31,"nz-option",11)(32,"nz-option",12)(33,"nz-option",13),a()()(),r(34,"nz-form-item")(35,"nz-form-label",5),m(36,"Mime"),a(),r(37,"nz-form-control",5)(38,"nz-select",9),f("ngModelChange",function(u){return n.mime=u}),E(39,"nz-option",14)(40,"nz-option",15)(41,"nz-option",16),a()()(),r(42,"nz-form-item")(43,"nz-form-label",5),m(44,"\u5185\u8FB9\u8DDD"),a(),r(45,"nz-form-control",5)(46,"nz-input-number",17),f("ngModelChange",function(u){return n.padding=u}),a(),m(47,"px "),a()(),r(48,"nz-form-item")(49,"nz-form-label",5),m(50,"\u5927\u5C0F"),a(),r(51,"nz-form-control",5)(52,"nz-input-number",18),f("ngModelChange",function(u){return n.size=u}),a(),m(53,"px "),a()()()()()()),t&2&&(s(6),l("nzGutter",24),s(1),l("nzSpan",8),s(1),l("value",n.value)("background",n.background)("backgroundAlpha",n.backgroundAlpha)("foreground",n.foreground)("foregroundAlpha",n.foregroundAlpha)("level",n.level)("mime",n.mime)("padding",n.padding)("size",n.size),s(1),l("nzSpan",16),s(3),l("nzSpan",8),s(2),l("nzSpan",16),s(2),l("ngModel",n.background)("ngModelOptions",b(51,se)),s(1),l("ngModel",n.backgroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",b(52,se)),s(2),l("nzSpan",8),s(2),l("nzSpan",16),s(2),l("ngModel",n.foreground)("ngModelOptions",b(53,se)),s(1),l("ngModel",n.foregroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",b(54,se)),s(2),l("nzSpan",8),s(2),l("nzSpan",16),s(1),l("ngModel",n.level)("ngModelOptions",b(55,se)),s(6),l("nzSpan",8),s(2),l("nzSpan",16),s(1),l("ngModel",n.mime)("ngModelOptions",b(56,se)),s(5),l("nzSpan",8),s(2),l("nzSpan",16),s(1),l("ngModel",n.padding)("ngModelOptions",b(57,se))("nzMin",0)("nzMax",100),s(3),l("nzSpan",8),s(2),l("nzSpan",16),s(1),l("ngModel",n.size)("ngModelOptions",b(58,se))("nzMin",100)("nzMax",1e3)("nzStep",n.padding))},dependencies:[oe,L,P,ie,V,ne,S,q,U,Ue,qe,G,He,xi,re,ze,Ce,_e,w,pe],encapsulation:2});let o=e;return o})();var Mn=()=>[0,0,0,0];function xn(o,e){if(o&1&&E(0,"g2-mini-bar",21),o&2){let c=_();l("padding",b(2,Mn))("data",c.events)}}var Dn=o=>({params:o}),wn=()=>({list:"results"}),Nn=o=>({reName:o}),xt=(()=>{let e=class e{constructor(i,t){this.http=i,this.message=t,this.ps=20,this.total=200,this.args={_allow_anonymous:!0,userid:null},this.url="https://api.randomuser.me/?results=20",this.events=[],this.scroll={y:"230px"},this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:n=>`${n.name.first} ${n.name.last}`,type:"link",click:n=>this.message.info(`${n.name.first}`)},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:n=>this.message.info(`edit [${n.id.value}]`),iif:n=>n.gender==="female"},{text:"Delete",type:"del",click:n=>this.message.info(`deleted [${n.id.value}]`)}]}]}ngOnInit(){this.http.get("/chart/visit").subscribe(i=>this.events=i.slice(0,8))}fullChange(i){this.scroll=i?{y:"350px"}:{y:"230px"}}};e.\u0275fac=function(t){return new(t||e)(h(Ge),h(O))},e.\u0275cmp=v({type:e,selectors:[["app-st"]],decls:43,vars:18,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/table","target","_blank"],["href","//ng-alain.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModel","ngModelChange"],["nz-button","",3,"nzType","nzLoading","click"],["nz-button","",3,"disabled","click"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["exportMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st",""],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(t,n){if(t&1){let p=R();r(0,"div",0)(1,"h1"),m(2," Fullscreen & ST "),r(3,"small"),m(4,"\u4F7F\u7528 "),r(5,"a",1),m(6,"st"),a(),m(7,"\u3001 "),r(8,"a",2),m(9,"full-content"),a(),m(10," \u7EC4\u5408\uFF0C\u7531\u4E8E nz-table \u56FA\u5B9A\u8868\u5934\u6682\u4E0D\u652F\u6301\u81EA\u9002\u5E94\uFF0C\u56E0\u6B64\u8868\u683C\u7684\u5C55\u793A\u7684\u6548\u679C\u5728\u54CD\u5E94\u5F0F\u91CC\u9762\u6548\u679C\u5E76\u4E0D\u662F\u7279\u522B\u597D\u3002"),a()()(),r(11,"full-content",3),f("fullscreenChange",function(d){return n.fullChange(d)}),r(12,"nz-card")(13,"div",4)(14,"div",5)(15,"form",6)(16,"se",7)(17,"input",8),f("ngModelChange",function(d){return n.args.userid=d}),a()(),r(18,"se")(19,"button",9),f("click",function(){C(p);let d=$(41);return y(d.load())}),m(20,"Search"),a(),r(21,"button",10),f("click",function(){C(p);let d=$(41);return y(d.load(1,{_allow_anonymous:!0}))}),m(22,"Clear"),a()()()(),r(23,"div",5)(24,"div",11)(25,"button",12)(26,"span"),m(27,"Export"),a(),E(28,"i",13),a(),r(29,"nz-dropdown-menu",null,14)(31,"ul",15)(32,"li",16),m(33,"Excel"),a(),r(34,"li",16),m(35,"JSON"),a(),r(36,"li",16),m(37,"PNG"),a()()(),r(38,"button",17),m(39,"Full"),a()()()(),r(40,"st",18,19),F(42,xn,1,3,"ng-template",20),a()()()}if(t&2){let p=$(30);s(17),l("ngModel",n.args.userid),s(2),l("nzType","primary")("nzLoading",n.http.loading),s(2),l("disabled",n.http.loading),s(4),l("nzDropdownMenu",p),s(13),l("nzType","default"),s(2),l("data",n.url)("req",we(13,Dn,n.args))("res",we(16,Nn,b(15,wn)))("total",n.total)("ps",n.ps)("columns",n.columns)("scroll",n.scroll)}},dependencies:[oe,L,P,ie,V,ne,ve,Di,Fi,Bi,D,S,x,hi,fi,gi,zi,vi,q,U,oi,G,re,w,ae,Vi,Ii],encapsulation:2});let o=e;return o})();var Qi=()=>({standalone:!0}),Dt=(()=>{let e=class e{constructor(i){this.messageSrv=i,this.format_str="this is ${name}",this.format_res="",this.format_obj=JSON.stringify({name:"asdf"}),this.content=`time ${+new Date}

    \u4E2D\u6587\uFF01@#\uFFE5%\u2026\u2026&*`}onFormat(){let i=null;try{i=JSON.parse(this.format_obj)}catch{this.messageSrv.error("\u65E0\u6CD5\u4F7F\u7528 JSON.parse \u8F6C\u6362");return}this.format_res=ui(this.format_str,i,!0)}onYuan(i){this.yuan_res=Ni(i)}onCopy(){li(`time ${+new Date}`).then(()=>this.messageSrv.success("success"))}};e.\u0275fac=function(t){return new(t||e)(h(O))},e.\u0275cmp=v({type:e,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5B57\u7B26\u4E32\u7C7B"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModel","ngModelChange"],[3,"innerHTML"],["nzTitle","\u5176\u5B83\u7C7B"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," \u5DE5\u5177\u96C6 "),r(3,"small"),m(4,"@delon/util \u65E5\u5E38\u7528\u6CD5\u3002"),a()()(),r(5,"nz-row",1)(6,"nz-col",2)(7,"nz-card",3)(8,"nz-card",4)(9,"form",5)(10,"nz-form-item")(11,"nz-form-label",6),m(12,"String"),a(),r(13,"nz-form-control",6)(14,"input",7),f("ngModelChange",function(u){return n.format_str=u}),a()()(),r(15,"nz-form-item")(16,"nz-form-label",6),m(17,"Object"),a(),r(18,"nz-form-control",6)(19,"input",7),f("ngModelChange",function(u){return n.format_obj=u}),a()()(),r(20,"nz-form-item")(21,"nz-form-control",8)(22,"button",9),f("click",function(){return n.onFormat()}),m(23,"Run"),a()()(),r(24,"nz-form-item")(25,"nz-form-label",6),m(26,"Result"),a(),r(27,"nz-form-control",6),m(28),a()()()(),r(29,"nz-card",10)(30,"nz-row",1)(31,"nz-col",2)(32,"input",11),f("ngModelChange",function(u){return n.yuan_str=u})("ngModelChange",function(u){return n.onYuan(u)}),a()(),r(33,"nz-col",2),E(34,"div",12),a()()()()(),r(35,"nz-col",2)(36,"nz-card",13)(37,"button",9),f("click",function(){return n.onCopy()}),m(38,"Copy"),a()()()()),t&2&&(s(5),l("nzGutter",16),s(1),l("nzSpan",12),s(5),l("nzSm",8),s(2),l("nzSm",16),s(1),l("ngModel",n.format_str)("ngModelOptions",b(21,Qi)),s(2),l("nzSm",8),s(2),l("nzSm",16),s(1),l("ngModel",n.format_obj)("ngModelOptions",b(22,Qi)),s(2),l("nzSpan",16)("nzOffset",8),s(4),l("nzSm",8),s(2),l("nzSm",16),s(1),B(" ",n.format_res," "),s(2),l("nzGutter",16),s(1),l("nzSpan",12),s(1),l("ngModel",n.yuan_str),s(1),l("nzSpan",12),s(1),l("innerHTML",n.yuan_res,Lt),s(1),l("nzSpan",12))},dependencies:[oe,L,mi,P,ie,V,ne,D,S,x,q,U,G,re,ze,Ce,_e,w],encapsulation:2});let o=e;return o})();var wt=(()=>{let e=class e{constructor(i){this.xlsx=i,this.users=Array(100).fill(0).map((t,n)=>({id:n+1,name:`name ${n+1}`,age:Math.ceil(Math.random()*10)+20})),this.columns=[{title:"\u7F16\u53F7",index:"id",type:"checkbox"},{title:"\u59D3\u540D",index:"name"},{title:"\u5E74\u9F84",index:"age"}]}url(){this.xlsx.import("./assets/tmp/demo.xlsx").then(i=>this.data=i)}change(i){let t=i.target.files[0];this.xlsx.import(t).then(n=>this.data=n)}download(){let i=[this.columns.map(t=>t.title)];this.users.forEach(t=>i.push(this.columns.map(n=>t[n.index]))),this.xlsx.export({sheets:[{data:i,name:"sheet name"}]})}};e.\u0275fac=function(t){return new(t||e)(h(di))},e.\u0275cmp=v({type:e,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," Import & Export excel file, "),r(3,"a",1),m(4,"Document"),a()()(),r(5,"nz-card",2)(6,"button",3),f("click",function(){return n.url()}),m(7,"Via Url"),a(),r(8,"input",4),f("change",function(u){return n.change(u)}),a(),r(9,"p",5),m(10),K(11,"json"),a()(),r(12,"nz-card",6)(13,"button",3),f("click",function(){return n.download()}),m(14,"Export"),a(),E(15,"st",7),a()),t&2&&(s(10),B("result: ",Y(11,4,n.data),""),s(5),l("data",n.users)("ps",3)("columns",n.columns))},dependencies:[ve,D,S,x,w,ee],encapsulation:2});let o=e;return o})();var Ji=Bt(lt(),1);var me=class me{constructor(e,c,i,t){this.http=e,this.lazy=c,this.ngZone=t,this.cog=i.merge("zip",{url:"https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js",utils:[]})}init(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}check(e){if(!e)throw new Error("get instance via `ZipService.create()`")}read(e,c){return new Promise((i,t)=>{let n=p=>{this.ngZone.run(()=>i(p))};this.init().then(()=>{if(typeof e=="string"){this.http.request("GET",e,{responseType:"arraybuffer"}).subscribe({next:u=>{JSZip.loadAsync(u,c).then(d=>n(d))},error:u=>{t(u)}});return}let p=new FileReader;p.onload=u=>{JSZip.loadAsync(u.target.result,c).then(d=>n(d))},p.readAsBinaryString(e)})})}create(){return new Promise(e=>{this.init().then(()=>{let c=new JSZip;e(c)}).catch(()=>e(null))})}pushUrl(e,c,i){return this.check(e),new Promise((t,n)=>{this.http.request("GET",i,{responseType:"arraybuffer"}).subscribe({next:p=>{e.file(c,p),t()},error:p=>{n({url:i,error:p})}})})}save(e,c){this.check(e);let i=A({filename:"download.zip"},c);return new Promise((t,n)=>{e.generateAsync(A({type:"blob"},i.options),i.update).then(p=>{i.callback&&i.callback(p),(0,Ji.saveAs)(p,i.filename),t()},p=>{n(p)})})}};me.\u0275fac=function(c){return new(c||me)(T(je),T(fe),T(te),T(Gt))},me.\u0275prov=J({token:me,factory:me.\u0275fac,providedIn:"root"});var Ne=me;j([ci()],Ne.prototype,"read",null);function Fn(o,e){if(o&1&&(r(0,"li"),m(1),K(2,"json"),a()),o&2){let c=e.$implicit;s(1),Qt(Y(2,1,c))}}function Bn(o,e){if(o&1){let c=R();r(0,"nz-card",2)(1,"button",4),f("click",function(){C(c);let t=_();return y(t.url())}),m(2,"Via Url"),a(),r(3,"input",5),f("change",function(t){C(c);let n=_();return y(n.change(t))}),a(),r(4,"ol"),F(5,Fn,3,3,"li",6),a()()}if(o&2){let c=_();s(5),l("ngForOf",c.list)}}function An(o,e){if(o&1){let c=R();r(0,"tr")(1,"td")(2,"input",10),f("ngModelChange",function(t){let p=C(c).$implicit;return y(p.path=t)}),a()(),r(3,"td")(4,"input",10),f("ngModelChange",function(t){let p=C(c).$implicit;return y(p.url=t)}),a()()()}if(o&2){let c=e.$implicit,i=e.index;s(2),De("name","path",i,""),l("ngModel",c.path),s(2),De("name","url",i,""),l("ngModel",c.url)}}function kn(o,e){if(o&1){let c=R();r(0,"nz-card",3)(1,"button",7),f("click",function(){C(c);let t=_();return y(t.data.push({}))}),m(2,"new"),a(),r(3,"button",8),f("click",function(){C(c);let t=_();return y(t.download())}),m(4,"download"),a(),r(5,"nz-table",9)(6,"thead")(7,"tr")(8,"th")(9,"span"),m(10,"path"),a()(),r(11,"th")(12,"span"),m(13,"url"),a()()()(),r(14,"tbody"),F(15,An,5,4,"tr",6),a()()()}if(o&2){let c=_();s(1),l("nzType","primary"),s(4),l("nzData",c.data)("nzFrontPagination",!1)("nzShowPagination",!1),s(10),l("ngForOf",c.data)}}var Nt=(()=>{let e=class e{constructor(i,t,n){this.zip=i,this.msg=t,this.cdr=n,this.instance=null,this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5C0F\u7A0B\u5E8F\u6807\u5FD7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}ngOnInit(){this.zip.create().then(i=>{this.instance=i,this.cdr.detectChanges()})}format(i){let t=i.files;this.list=Object.keys(t).map(n=>({name:n,dir:t[n].dir,date:t[n].date})),this.cdr.detectChanges()}url(){this.zip.read("./assets/tmp/demo.zip").then(i=>this.format(i))}change(i){let t=i.target.files[0];this.zip.read(t).then(n=>this.format(n))}download(){let i=[];this.data.forEach(t=>{i.push(this.zip.pushUrl(this.instance,t.path,t.url))}),Promise.all(i).then(()=>{this.zip.save(this.instance).then(()=>{this.msg.success("download success"),this.data=[]})},t=>{console.warn(t),this.msg.error(JSON.stringify(t))})}};e.\u0275fac=function(t){return new(t||e)(h(Ne),h(O),h(ue))},e.\u0275cmp=v({type:e,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89E3\u538B"],["nzTitle","\u538B\u7F29"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[4,"ngFor","ngForOf"],["nz-button","",3,"nzType","click"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModel","name","ngModelChange"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h1"),m(2," Read & Write zip file, "),r(3,"a",1),m(4,"Document"),a()()(),F(5,Bn,6,1,"nz-card",2)(6,kn,16,5,"nz-card",3)),t&2&&(s(5),X(5,n.instance?5:-1),s(1),X(6,n.instance?6:-1))},dependencies:[Ie,L,P,V,D,S,x,Si,_i,Ci,bi,yi,Ei,G,w,ee],encapsulation:2,changeDetection:0});let o=e;return o})();var In=[{path:"st",component:xt},{path:"util",component:Dt},{path:"print",component:bt},{path:"acl",component:ft},{path:"guard",component:yt,children:[{path:"leave",component:St,canDeactivate:[Zi]},{path:"auth",component:Ct,canActivate:[ot],data:{guard:"user1"}},{path:"admin",component:_t,canActivate:[ot],data:{guard:"admin"}}]},{path:"cache",component:gt},{path:"qr",component:Mt},{path:"downfile",component:vt},{path:"xlsx",component:wt},{path:"zip",component:Nt},{path:"form",component:zt}],Xi=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I({type:e}),e.\u0275inj=k({imports:[nt.forChild(In),nt]});let o=e;return o})();var Xr=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I({type:e}),e.\u0275inj=k({imports:[ki,Xi,Li,Gi,qi,ji]});let o=e;return o})();export{Xr as DelonModule};
