<form nz-form [formGroup]="form" se-container="1" labelWidth="200">
  <se label="名称" error="给该设备起个名字" required>
    <input nz-input formControlName="Name" placeholder="给该设备起个名字" />
  </se>
  <se label="是否可用" extra="当设置成不可用的的时候，系统不会收集该设备的数据。">
    <nz-radio-group formControlName="Enable">
      <label nz-radio [nzValue]="true">可用</label>
      <label nz-radio [nzValue]="false">不可用</label>
    </nz-radio-group>
  </se>
  <se label="数据处理模式">
    <nz-radio-group formControlName="InputDataProcessMode">
      <label nz-radio [nzValue]="1">简单处理：自动把接收的数据转成设备字段，不需要写《接收到数据后触发的脚本》。</label>
      <label nz-radio [nzValue]="2">脚本处理：以执行脚本的方式把接收的数据转成设备字段，需要写《接收到数据后触发的脚本》。</label>
      <label nz-radio [nzValue]="3">组合处理：先执行简单处理，再执行脚本处理</label>
    </nz-radio-group>
  </se>
  <se label="是否产生布尔型模拟数据">
    <nz-switch formControlName="GenerateBoolData" nzCheckedChildren="产生" nzUnCheckedChildren="不产生" />
  </se>
  <se label="是否产生整数型模拟数据">
    <nz-switch formControlName="GenerateIntData" nzCheckedChildren="产生" nzUnCheckedChildren="不产生" />
  </se>
  <se label="是否产生字符串型模拟数据">
    <nz-switch formControlName="GenerateStringData" nzCheckedChildren="产生" nzUnCheckedChildren="不产生" />
  </se>
  <se label="产生数据实例的个数" extra="模拟出每种类型数据的个数">
    <nz-input-number formControlName="DataInstanceNumber" placeholder="请输入" />
  </se>
  <se label="数据产生的周期" extra="产生模拟数据的间隙时间">
    <nz-input-number formControlName="TimerInterval" placeholder="请输入" />
  </se>
  <se label="产生步长整数的最小值">
    <nz-input-number formControlName="MinInteger" placeholder="请输入" />
  </se>
  <se label="产生步长整数的最大值">
    <nz-input-number formControlName="MaxInteger" placeholder="请输入" />
  </se>
  <se label="步长">
    <nz-input-number formControlName="IntegerStep" placeholder="请输入" />
  </se>
  <se
    label="接收到数据后触发的脚本"
    extra="支持基于JavaScript算术计算和内置对象；
    例如:  
    Console.Log('') 在黑屏上打印出来内容；  
    DataSource.DataSet是接收到物理设备上传上来的数据内容； 
    Device.SetField('虚拟设备字段', Temprature1) 保存数据到该虚拟设备上；"
  >
    <!-- <textarea nz-input formControlName="ResultParser" [nzAutosize]="{ minRows: 4 }"
      placeholder="当有物理设备数据进来后会触发执行的脚本，通常是用来更新虚拟设备字段的数据。"></textarea> -->
    <codemirror
      #cmResultParser
      [code]="codeResultParser"
      tooltip="当物理设备数据进上传到系统里后会触发执行的脚本，通常是用来更新虚拟设备字段的数据."
      height="100px"
    />
  </se>
  <se>
    <button nz-button nzType="primary" [disabled]="form.invalid" (click)="submit()" [nzLoading]="submitting">保存</button>
    <button nz-button class="ml-sm" (click)="cancel()">取消</button>
  </se>
</form>
